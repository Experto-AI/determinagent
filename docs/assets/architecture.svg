<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .layer-bg { rx: 8; ry: 8; }
      .component { rx: 6; ry: 6; }
      .title { font-family: 'Inter', 'Segoe UI', Arial, sans-serif; font-weight: 600; }
      .subtitle { font-family: 'Inter', 'Segoe UI', Arial, sans-serif; font-weight: 400; font-size: 11px; }
      .label { font-family: 'Inter', 'Segoe UI', Arial, sans-serif; font-weight: 500; font-size: 12px; }
      .small-label { font-family: 'Inter', 'Segoe UI', Arial, sans-serif; font-weight: 400; font-size: 10px; }
      .arrow { stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" class="title" font-size="24" fill="#1e293b">DeterminAgent Architecture</text>
  <text x="400" y="55" text-anchor="middle" class="subtitle" fill="#64748b">CLI-First Deterministic Multi-Agent Orchestration Library</text>
  
  <!-- Layer 1: Template Flows -->
  <rect x="40" y="80" width="720" height="120" class="layer-bg" fill="#e0e7ff" stroke="#818cf8" stroke-width="2"/>
  <text x="60" y="105" class="title" font-size="14" fill="#4338ca">üìÅ Template Flows</text>
  <text x="720" y="105" text-anchor="end" class="small-label" fill="#6366f1">For non-programmers & quick start</text>
  
  <!-- Flow components -->
  <rect x="80" y="125" width="140" height="55" class="component" fill="#c7d2fe" stroke="#818cf8" stroke-width="1.5"/>
  <text x="150" y="150" text-anchor="middle" class="label" fill="#3730a3">flows/blog</text>
  <text x="150" y="168" text-anchor="middle" class="small-label" fill="#6366f1">Writer ‚Üí Editor ‚Üí Review</text>
  
  <rect x="250" y="125" width="140" height="55" class="component" fill="#c7d2fe" stroke="#818cf8" stroke-width="1.5"/>
  <text x="320" y="150" text-anchor="middle" class="label" fill="#3730a3">flows/...</text>
  <text x="320" y="168" text-anchor="middle" class="small-label" fill="#6366f1">Custom workflows</text>
  
  <text x="550" y="155" text-anchor="middle" class="subtitle" fill="#4338ca">Pre-built Python workflow scripts</text>
  <text x="550" y="172" text-anchor="middle" class="small-label" fill="#6366f1">Copy, customize, run</text>
  
  <!-- Arrow from Layer 1 to Layer 2 -->
  <path d="M400 200 L400 225" class="arrow" stroke="#6366f1"/>
  
  <!-- Layer 2: Configuration Layer -->
  <rect x="40" y="230" width="720" height="100" class="layer-bg" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="60" y="255" class="title" font-size="14" fill="#b45309">‚öôÔ∏è Configuration Layer</text>
  <text x="720" y="255" text-anchor="end" class="small-label" fill="#d97706">Required for flows</text>
  
  <!-- Config components -->
  <rect x="80" y="270" width="150" height="45" class="component" fill="#fde68a" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="155" y="292" text-anchor="middle" class="label" fill="#92400e">YAML Settings</text>
  <text x="155" y="306" text-anchor="middle" class="small-label" fill="#b45309">agent.yaml</text>
  
  <rect x="260" y="270" width="150" height="45" class="component" fill="#fde68a" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="335" y="292" text-anchor="middle" class="label" fill="#92400e">load_config()</text>
  <text x="335" y="306" text-anchor="middle" class="small-label" fill="#b45309">Auto-discovery</text>
  
  <text x="580" y="295" text-anchor="middle" class="subtitle" fill="#b45309">Agent settings & prompts</text>
  
  <!-- Arrow from Layer 2 to Layer 3 -->
  <path d="M400 330 L400 355" class="arrow" stroke="#6366f1"/>
  
  <!-- Layer 3: Core Library -->
  <rect x="40" y="360" width="720" height="210" class="layer-bg" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="60" y="385" class="title" font-size="14" fill="#15803d">üîß Core Library</text>
  <text x="720" y="385" text-anchor="end" class="small-label" fill="#22c55e">Foundation</text>
  
  <!-- UnifiedAgent (central) -->
  <rect x="300" y="400" width="200" height="55" class="component" fill="#86efac" stroke="#22c55e" stroke-width="2"/>
  <text x="400" y="425" text-anchor="middle" class="title" font-size="14" fill="#14532d">UnifiedAgent</text>
  <text x="400" y="443" text-anchor="middle" class="small-label" fill="#15803d">Main orchestration class</text>
  
  <!-- Provider Adapters -->
  <rect x="60" y="480" width="100" height="40" class="component" fill="#bbf7d0" stroke="#22c55e" stroke-width="1.5"/>
  <text x="110" y="502" text-anchor="middle" class="label" fill="#15803d">Claude</text>
  
  <rect x="175" y="480" width="100" height="40" class="component" fill="#bbf7d0" stroke="#22c55e" stroke-width="1.5"/>
  <text x="225" y="502" text-anchor="middle" class="label" fill="#15803d">Copilot</text>
  
  <rect x="290" y="480" width="100" height="40" class="component" fill="#bbf7d0" stroke="#22c55e" stroke-width="1.5"/>
  <text x="340" y="502" text-anchor="middle" class="label" fill="#15803d">Gemini</text>
  
  <rect x="405" y="480" width="100" height="40" class="component" fill="#bbf7d0" stroke="#22c55e" stroke-width="1.5"/>
  <text x="455" y="502" text-anchor="middle" class="label" fill="#15803d">Codex</text>
  
  <!-- SessionManager & Utilities -->
  <rect x="530" y="480" width="110" height="40" class="component" fill="#a7f3d0" stroke="#22c55e" stroke-width="1.5"/>
  <text x="585" y="502" text-anchor="middle" class="label" fill="#15803d">Sessions</text>
  
  <rect x="655" y="480" width="95" height="40" class="component" fill="#a7f3d0" stroke="#22c55e" stroke-width="1.5"/>
  <text x="702" y="502" text-anchor="middle" class="label" fill="#15803d">Parsers</text>
  
  <text x="280" y="545" text-anchor="middle" class="small-label" fill="#15803d">Provider Adapters</text>
  <text x="620" y="545" text-anchor="middle" class="small-label" fill="#15803d">Utilities</text>
  
  <!-- Arrows from UnifiedAgent to adapters -->
  <path d="M350 455 L110 475" class="arrow" stroke="#22c55e"/>
  <path d="M375 455 L225 475" class="arrow" stroke="#22c55e"/>
  <path d="M400 455 L340 475" class="arrow" stroke="#22c55e"/>
  <path d="M425 455 L455 475" class="arrow" stroke="#22c55e"/>
  <path d="M450 455 L585 475" class="arrow" stroke="#22c55e"/>
  <path d="M475 455 L702 475" class="arrow" stroke="#22c55e"/>
</svg>
